import{r as p,b as X,u as O,O as Y,c as _,H as G,d as Z,e as w,R as ee}from"./vendor-b5695ea8.js";import{u as v,Q as te,a as ae}from"./react-query-a30a62e9.js";import{r as se}from"./zustand-8c59c348.js";import{c as re}from"./apisauce-c378e72f.js";import{Q as N,k as ne,x as ie}from"./react-toastify-f2771e43.js";import{u as A,F as $}from"./react-hook-form-373e8fbb.js";import{H as S,E as C,u as oe}from"./@phosphor-icons/react-52cf8928.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();var e={},le={get exports(){return e},set exports(n){e=n}},T={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var de=p,ce=Symbol.for("react.element"),me=Symbol.for("react.fragment"),ue=Object.prototype.hasOwnProperty,xe=de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,he={key:!0,ref:!0,__self:!0,__source:!0};function U(n,t,s){var a,r={},i=null,o=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)ue.call(t,a)&&!he.hasOwnProperty(a)&&(r[a]=t[a]);if(n&&n.defaultProps)for(a in t=n.defaultProps,t)r[a]===void 0&&(r[a]=t[a]);return{$$typeof:ce,type:n,key:i,ref:o,props:r,_owner:xe.current}}T.Fragment=me;T.jsx=U;T.jsxs=U;(function(n){n.exports=T})(le);var W={},J=X;W.createRoot=J.createRoot,W.hydrateRoot=J.hydrateRoot;const f=re({baseURL:"https://worktime.dtdevs.com/api",timeout:3e4});f.addRequestTransform(n=>{const t=z.getState().token;t&&n&&n.headers&&(n.headers.Authorization=`Bearer ${t}`)});class pe{static async authenticate(t){const{data:s,ok:a}=await f.post("authenticate",t);if(!a)throw new Error(s.message);return s}}function Q(n){let t;try{t=n()}catch{return}return{getItem:a=>{var r;const i=d=>d===null?null:JSON.parse(d),o=(r=t.getItem(a))!=null?r:null;return o instanceof Promise?o.then(i):i(o)},setItem:(a,r)=>t.setItem(a,JSON.stringify(r)),removeItem:a=>t.removeItem(a)}}const R=n=>t=>{try{const s=n(t);return s instanceof Promise?s:{then(a){return R(a)(s)},catch(a){return this}}}catch(s){return{then(a){return this},catch(a){return R(a)(s)}}}},fe=(n,t)=>(s,a,r)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:u=>u,version:0,merge:(u,k)=>({...k,...u}),...t},o=!1;const d=new Set,m=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return n((...u)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...u)},a,r);const j=R(i.serialize),b=()=>{const u=i.partialize({...a()});let k;const x=j({state:u,version:i.version}).then(D=>c.setItem(i.name,D)).catch(D=>{k=D});if(k)throw k;return x},l=r.setState;r.setState=(u,k)=>{l(u,k),b()};const g=n((...u)=>{s(...u),b()},a,r);let y;const h=()=>{var u;if(!c)return;o=!1,d.forEach(x=>x(a()));const k=((u=i.onRehydrateStorage)==null?void 0:u.call(i,a()))||void 0;return R(c.getItem.bind(c))(i.name).then(x=>{if(x)return i.deserialize(x)}).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate)return i.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var D;return y=i.merge(x,(D=a())!=null?D:g),s(y,!0),b()}).then(()=>{k==null||k(y,void 0),o=!0,m.forEach(x=>x(y))}).catch(x=>{k==null||k(void 0,x)})};return r.persist={setOptions:u=>{i={...i,...u},u.getStorage&&(c=u.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>h(),hasHydrated:()=>o,onHydrate:u=>(d.add(u),()=>{d.delete(u)}),onFinishHydration:u=>(m.add(u),()=>{m.delete(u)})},h(),y||g},ge=(n,t)=>(s,a,r)=>{let i={storage:Q(()=>localStorage),partialize:h=>h,version:0,merge:(h,u)=>({...u,...h}),...t},o=!1;const d=new Set,m=new Set;let c=i.storage;if(!c)return n((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...h)},a,r);const j=()=>{const h=i.partialize({...a()});return c.setItem(i.name,{state:h,version:i.version})},b=r.setState;r.setState=(h,u)=>{b(h,u),j()};const l=n((...h)=>{s(...h),j()},a,r);let g;const y=()=>{var h,u;if(!c)return;o=!1,d.forEach(x=>{var D;return x((D=a())!=null?D:l)});const k=((u=i.onRehydrateStorage)==null?void 0:u.call(i,(h=a())!=null?h:l))||void 0;return R(c.getItem.bind(c))(i.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate)return i.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var D;return g=i.merge(x,(D=a())!=null?D:l),s(g,!0),j()}).then(()=>{k==null||k(g,void 0),g=a(),o=!0,m.forEach(x=>x(g))}).catch(x=>{k==null||k(void 0,x)})};return r.persist={setOptions:h=>{i={...i,...h},h.storage&&(c=h.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:h=>(d.add(h),()=>{d.delete(h)}),onFinishHydration:h=>(m.add(h),()=>{m.delete(h)})},i.skipHydration||y(),g||l},je=(n,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?(({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),fe(n,t)):ge(n,t),ye=je,be=se()(ye(n=>({isLoading:!1,isAuthenticated:!1,user:null,token:null,authenticate:async t=>{n({isLoading:!0});const s=await pe.authenticate(t).catch(()=>n({isLoading:!1}));s&&s.token&&n(()=>({isAuthenticated:!0,user:s.user,token:s.token})),n({isLoading:!1})},logout:()=>n(()=>({isAuthenticated:!1,user:null,token:null}))}),{name:"worktime-storage",storage:Q(()=>localStorage)})),z=be,ve=()=>{const{logout:n}=z(),t=O();return e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex flex-row",style:{justifyContent:"space-between"},children:[e.jsx("button",{className:"bg-primary text-gray-300 px-4 py-2 font-bold",onClick:()=>t("/"),children:"Home"}),e.jsxs("div",{children:[e.jsx("button",{className:"bg-primary text-gray-300 px-4 py-2 font-bold",onClick:()=>t("/control-screen"),children:"Controle"}),e.jsx("button",{className:"bg-primary text-gray-300 px-4 py-2 font-bold",onClick:n,children:"Sair"})]})]}),e.jsx(Y,{})]})},M=()=>{const{authenticate:n,isLoading:t}=z(),s=A({defaultValues:{username:"admin@admin.com",password:"1234"}});return e.jsx("div",{className:"flex flex-col w-full h-full flex-1 justify-center items-center",children:e.jsx($,{...s,children:e.jsxs("form",{className:"flex w-80 flex-col items-center justify-center",onSubmit:s.handleSubmit(n),children:[e.jsx("h1",{className:"mt-8 text-3xl font-bold text-emphasis-high dark:text-emphasisDark-high",children:"worktime"}),e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Access your account"}),e.jsx("input",{...s.register("username"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",placeholder:"Inform your e-mail or username"}),e.jsx("input",{...s.register("password"),type:"password",className:"mt-6 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",placeholder:"Inform your password"}),e.jsx("button",{disabled:t,type:"submit",className:"flex justify-center my-6 w-full rounded-md bg-secondary py-3 text-sm font-medium leading-5 text-white",children:"Sign up"})]})})})};class E{static async find(t){const{data:s,ok:a}=await f.get(`user/${t}`);if(!a)throw new Error(s.message);return s}static async findAll(){const{data:t}=await f.get("user");return t}static async create(t){const{data:s,ok:a}=await f.post("user",{...t});if(!a)throw new Error(s.message);return s}static async register(t){const{data:s,ok:a}=await f.post("register",{...t});return s}static async update(t){const{data:s,ok:a}=await f.put(`user/${t.id}`,t);if(!a)throw new Error(s.message);return await I.invalidateQueries(`user-${t.id}`),s}static async delete(t){const{data:s,ok:a}=await f.delete(`user/${t}`);if(!a)throw new Error(s.message)}}class F{static async find(t){const{data:s,ok:a}=await f.get(`exception/${t}`);if(!a)throw new Error(s.message);return s}static async findByUser(t){const{data:s,ok:a}=await f.get(`exception/user/${t}`);if(!a)throw new Error(s.message);return s}static async findAll(){const{data:t}=await f.get("exception");return t}static async create(t){const{data:s,ok:a}=await f.post("exception",{...t});if(!a)throw new Error(s.message);return s}static async update(t){const{data:s,ok:a}=await f.put(`exception/${t.id}`,t);if(!a)throw new Error(s.message);return await I.invalidateQueries(`exception-${t.id}`),s}static async delete(t){const{data:s,ok:a}=await f.delete(`exception/${t}`);if(!a)throw new Error(s.message)}}class L{static async find(t){const{data:s,ok:a}=await f.get(`vacation/${t}`);if(!a)throw new Error(s.message);return s}static async findByUser(t){const{data:s,ok:a}=await f.get(`vacation/user/${t}`);if(!a)throw new Error(s.message);return s}static async findAll(){const{data:t}=await f.get("vacation");return t}static async create(t){const{data:s,ok:a}=await f.post("vacation",{...t});if(!a)throw new Error(s.message);return s}static async update(t){const{data:s,ok:a}=await f.put(`vacation/${t.id}`,t);if(!a)throw new Error(s.message);return await I.invalidateQueries(`vacation-${t.id}`),s}static async delete(t){const{data:s,ok:a}=await f.delete(`vacation/${t}`);if(!a)throw new Error(s.message)}}class H{static async find(t){const{data:s,ok:a}=await f.get(`event/${t}`);if(!a)throw new Error(s.message);return s}static async findAll(){const{data:t}=await f.get("event");return t}static async create(t){const{data:s,ok:a}=await f.post("event",{...t});if(!a)throw new Error(s.message);return s}static async update(t){const{data:s,ok:a}=await f.put(`event/${t.id}`,t);if(!a)throw new Error(s.message);return await I.invalidateQueries(`event-${t.id}`),s}static async delete(t){const{data:s,ok:a}=await f.delete(`event/${t}`);if(!a)throw new Error(s.message)}}const ke=()=>{const n=O(),{data:t,refetch:s}=v("employee-list",()=>E.findAll(),{refetchOnWindowFocus:!1,initialData:[]}),{data:a,refetch:r}=v("excep-list",()=>F.findAll(),{refetchOnWindowFocus:!1,initialData:[]}),{data:i,refetch:o}=v("vacat-list",()=>L.findAll(),{refetchOnWindowFocus:!1,initialData:[]}),{data:d}=v("event-list",()=>H.findAll(),{refetchOnWindowFocus:!1,initialData:[]}),m=p.useMemo(()=>[{dia:"23/05/2023",entrada1:"00:00:00",saida1:"00:00:00",entrada2:null,saida2:null,horas_trabalhadas:"00:00:00",horas_extras:"00:00:00",horas_falta:"00:00:00",is_consistente:!1}],[]),c=async l=>{l&&(await E.delete(l),await s())},j=async l=>{l&&(await F.delete(l),await r())},b=async l=>{l&&(await L.delete(l),await o())};return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col my-6",children:[e.jsx("h1",{children:"FUNCIONÁRIOS"}),e.jsx("button",{title:"Cadastrar",className:"bg-primary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>n("employee/create"),children:"Cadastrar funcionário"}),t==null?void 0:t.map(l=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("p",{children:l.name}),"|",e.jsx("p",{children:l.email}),"|",e.jsx("p",{children:l.phone}),e.jsx("p",{children:l.isEmployee?"Sim":"Não"}),e.jsx("button",{title:"Editar",className:"bg-secondary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>n(`employee/edit/${l.id}`),children:e.jsx(S,{size:20})}),l.id!==2&&e.jsx("button",{title:"Excluir",onClick:()=>c(l.id),children:e.jsx(C,{size:20})})]},l.id))]}),e.jsxs("div",{className:"flex flex-col my-6",children:[e.jsx("h1",{children:"EXCEÇÃO"}),e.jsx("button",{title:"Cadastrar",className:"bg-primary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>n("exception/create"),children:"Cadastrar exceção"}),a==null?void 0:a.map(l=>{var g,y;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx("p",{children:(g=l.occurrenceDate)==null?void 0:g.toString()}),"|",e.jsx("p",{children:l.duration}),"|",e.jsx("p",{children:l.durationType}),"|",e.jsx("p",{children:l.description}),"|",e.jsx("p",{children:l.isResolved}),"|",e.jsx("p",{children:(y=l.user)==null?void 0:y.name}),"|",e.jsx("button",{title:"Editar",className:"bg-secondary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>n(`exception/edit/${l.id}`),children:e.jsx(S,{size:20})}),e.jsx("button",{title:"Excluir",onClick:()=>j(l.id),children:e.jsx(C,{size:20})})]},l.id)})]}),e.jsxs("div",{className:"flex flex-col my-6",children:[e.jsx("h1",{children:"FÉRIAS"}),e.jsx("button",{title:"Cadastrar",className:"bg-primary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>n("vacation/create"),children:"Cadastrar férias"}),i==null?void 0:i.map(l=>{var g,y,h;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx("p",{children:(g=l.startDate)==null?void 0:g.toString()}),"|",e.jsx("p",{children:(y=l.endDate)==null?void 0:y.toString()}),"|",e.jsx("p",{children:(h=l.user)==null?void 0:h.name}),"|",e.jsx("button",{title:"Editar",className:"bg-secondary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>n(`vacation/edit/${l.id}`),children:e.jsx(S,{size:20})}),e.jsx("button",{title:"Excluir",onClick:()=>b(l.id),children:e.jsx(C,{size:20})})]},l.id)})]}),e.jsxs("div",{className:"flex flex-col my-6",children:[e.jsx("h1",{children:"EVENTOS"}),e.jsx("button",{title:"Cadastrar",className:"bg-primary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>n("event/create"),children:"Cadastrar evento"}),d==null?void 0:d.map(l=>{var g,y;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx("p",{children:(g=l.createdDate)==null?void 0:g.toString()}),"|",e.jsx("p",{children:l.type}),"|",e.jsx("p",{children:(y=l.user)==null?void 0:y.name}),e.jsx("button",{title:"Editar",className:"bg-secondary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>n(`event/edit/${l.id}`),children:e.jsx(S,{size:20})}),e.jsx("button",{title:"Excluir",onClick:()=>{console.log(l.id)},children:e.jsx(C,{size:20})})]},l.id)})]}),e.jsxs("div",{className:"flex flex-col my-6",children:[e.jsx("h1",{children:"JORNADAS DE TRABALHO"}),e.jsx("button",{title:"Cadastrar",className:"bg-primary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>n("journey/create"),children:"Cadastrar jornada"}),m==null?void 0:m.map(l=>{var g;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx("p",{children:(g=l.name)==null?void 0:g.toString()}),"|",e.jsx("p",{children:l.tolerance}),"|",e.jsx("p",{children:l.worktime}),e.jsx("button",{title:"Editar",className:"bg-secondary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>n(`journey/edit/${l.id}`),children:e.jsx(S,{size:20})}),e.jsx("button",{title:"Excluir",onClick:()=>{console.log(l.id)},children:e.jsx(C,{size:20})})]},l.id)})]})]})},P=({handleAction:n,isLoading:t,initialData:s,isEditing:a=!1})=>{const r=A({defaultValues:s||{name:"",document:"",birthdate:"",email:"",phone:"",password:""}});return e.jsx($,{...r,children:e.jsxs("form",{className:"flex w-80 flex-col items-center justify-center",onSubmit:r.handleSubmit(n),children:[e.jsx("label",{children:"Nome:"}),e.jsx("input",{...r.register("name"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",placeholder:"Inform your name"}),e.jsxs("div",{className:"flex flex-row",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Documento:"}),e.jsx("input",{...r.register("document"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",placeholder:"Inform your document"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Data de Nascimento:"}),e.jsx("input",{type:"date",...r.register("birthdate"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"})]})]}),e.jsxs("div",{className:"flex flex-row",children:[e.jsxs("div",{children:[e.jsx("label",{children:"E-mail:"}),e.jsx("input",{type:"email",...r.register("email"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",placeholder:"Inform your e-mail"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Telefone:"}),e.jsx("input",{...r.register("phone"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",placeholder:"Inform your phone"})]})]}),e.jsx("label",{children:"Senha:"}),e.jsx("input",{type:"password",className:"mt-6 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",placeholder:"Inform your password"}),e.jsx("button",{disabled:t,type:"submit",className:"flex justify-center my-6 w-full rounded-md bg-secondary py-3 text-sm font-medium leading-5 text-white",children:a?"Atualizar":"Cadastrar"})]})})},we=()=>{const[n,t]=p.useState(!1),s=p.useCallback(async a=>{const{name:r,document:i,birthdate:o,email:d,phone:m,hireDate:c,monthlyWorkload:j,password:b}=a;try{t(!0),await E.create({name:r,document:i,birthdate:o,email:d,phone:m,password:b,isEmployee:!0,hireDate:c,monthlyWorkload:j})}catch{N.error("Erro ao Cadastrar Novo Funcionário!")}finally{t(!1)}},[]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Cadastrar Novo Funcionário"}),e.jsx("div",{children:e.jsx(P,{handleAction:s,isLoading:n})})]})},Ne=()=>{const{id:n}=_(),{data:t,isLoading:s}=v(`user-${n}`,()=>E.find(Number(n)),{refetchOnWindowFocus:!1,onSuccess:r=>{console.log(r)},onError:r=>{N.error(r.message)}}),a=p.useCallback(async r=>{const{name:i,document:o,birthdate:d,email:m,phone:c,password:j,hireDate:b,monthlyWorkload:l}=r;await E.update({id:Number(n),name:i,document:o,birthdate:d,email:m,phone:c,hireDate:b,monthlyWorkload:l,password:j})},[n]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Editar Funcionário"}),e.jsx("div",{children:t&&e.jsx(P,{initialData:t,handleAction:a,isLoading:s,isEditing:!0})})]})},B=({handleAction:n,isLoading:t,isEditing:s=!1,initialData:a,employees:r})=>{const i=A({defaultValues:a||{createdDate:void 0,type:"",idEmployee:0}});return e.jsx($,{...i,children:e.jsxs("form",{className:"flex w-80 flex-col items-center justify-center",onSubmit:i.handleSubmit(n),children:[e.jsx("label",{children:"Funcionário:"}),e.jsx("select",{...i.register("idEmployee"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",children:r==null?void 0:r.map(o=>e.jsx("option",{value:o.id,children:o.name},o.id))}),e.jsx("label",{children:"Data:"}),e.jsx("input",{type:"date",...i.register("createdDate"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"}),e.jsx("label",{children:"Tipo:"}),e.jsx("input",{...i.register("type"),placeholder:"Digite um tipo",className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"}),e.jsx("button",{disabled:t,type:"submit",className:"flex justify-center my-6 w-full rounded-md bg-secondary py-3 text-sm font-medium leading-5 text-white",children:s?"Atualizar":"Cadastrar"})]})})},Ee=()=>{const{data:n,isLoading:t}=v("employees-list",()=>E.findAll(),{refetchOnWindowFocus:!1,initialData:[],onSuccess:a=>{console.log(a)},onError:a=>{N.error(a.message)}}),s=p.useCallback(a=>{console.log(a)},[]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Cadastrar Novo Evento"}),e.jsx("div",{children:e.jsx(B,{handleAction:s,isLoading:t,employees:n??[]})})]})},De=()=>{const{id:n}=_(),{data:t,isLoading:s}=v("employees-list",()=>E.findAll(),{refetchOnWindowFocus:!1,onSuccess:o=>{console.log(o)},onError:o=>{N.error(o.message)}}),{data:a}=v(`event-${n}`,()=>H.find(Number(n)),{refetchOnWindowFocus:!1,onSuccess:o=>{console.log(o)},onError:o=>{N.error(o.message)}}),r=p.useCallback(async o=>{const{createdDate:d,type:m,idEmployee:c}=o;await H.update({createdDate:d,type:m,user:{id:Number(c)}})},[]),i=p.useMemo(()=>a&&t?e.jsx(B,{handleAction:r,isLoading:s,isEditing:!0,initialData:{...a,idEmployee:a.user.id},employees:t}):null,[t,a,r,s]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Editar Evento"}),e.jsx("div",{children:i})]})},V=({handleAction:n,isLoading:t,isEditing:s=!1,methods:a,employees:r})=>e.jsx($,{...a,children:e.jsxs("form",{className:"flex w-80 flex-col items-center justify-center",onSubmit:a.handleSubmit(n),children:[e.jsx("label",{children:"Funcionário:"}),e.jsx("select",{name:"idEmployee",...a.register("idEmployee"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",children:r==null?void 0:r.map(i=>e.jsx("option",{value:i.id,children:i.name},i.id))}),e.jsx("label",{children:"Data de Início:"}),e.jsx("input",{type:"date",...a.register("startDate"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"}),e.jsx("label",{children:"Data de Fim:"}),e.jsx("input",{type:"date",...a.register("endDate"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"}),e.jsx("button",{disabled:t,type:"submit",className:"flex justify-center my-6 w-full rounded-md bg-secondary py-3 text-sm font-medium leading-5 text-white",children:s?"Atualizar":"Cadastrar"})]})}),Se=()=>{const{id:n}=_(),{data:t,isLoading:s}=v("employees-list",()=>E.findAll(),{refetchOnWindowFocus:!1,onSuccess:d=>{console.log(d)},onError:d=>{N.error(d.message)}}),{data:a}=v(`vacation-${n}`,()=>L.find(Number(n)),{refetchOnWindowFocus:!1,onSuccess:d=>{console.log(d)},onError:d=>{N.error(d.message)}}),r=A({defaultValues:a}),i=p.useCallback(async d=>{const{startDate:m,endDate:c,idEmployee:j}=d;await L.update({startDate:m,endDate:c,user:{id:Number(j)}}),N.success("Férias atualizada com sucesso!")},[]),o=p.useMemo(()=>a&&t?e.jsx(V,{handleAction:i,isLoading:s,isEditing:!0,methods:r,employees:t}):null,[t,i,s,r,a]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Editar Férias"}),e.jsx("div",{children:o})]})},Ce=()=>{const{data:n,isLoading:t}=v("employees-list",()=>E.findAll(),{refetchOnWindowFocus:!1,initialData:[],onSuccess:r=>{console.log(r)},onError:r=>{N.error(r.message)}}),s=A({defaultValues:{startDate:void 0,endDate:void 0,idEmployee:0}}),a=p.useCallback(async r=>{const{startDate:i,endDate:o,idEmployee:d}=r;await L.create({startDate:i,endDate:o,user:{id:Number(d)}})},[]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Cadastrar Nova Férias"}),e.jsx("div",{children:e.jsx(V,{handleAction:a,isLoading:t,methods:s,employees:n??[]})})]})},q=({handleAction:n,isLoading:t,isEditing:s=!1,initialData:a,employees:r,durationTypes:i})=>{const o=A({defaultValues:a});return e.jsx($,{...o,children:e.jsxs("form",{className:"flex w-80 flex-col items-center justify-center",onSubmit:o.handleSubmit(n),children:[e.jsx("label",{children:"Funcionário:"}),e.jsx("select",{...o.register("idEmployee"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",children:r==null?void 0:r.map(d=>e.jsx("option",{value:d.id,children:d.name},d.id))}),e.jsx("label",{children:"Descrição:"}),e.jsx("input",{...o.register("description"),placeholder:"Digite uma descrição",className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"}),e.jsx("label",{children:"Data:"}),e.jsx("input",{type:"date",...o.register("occurrenceDate"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"}),e.jsx("label",{children:"Duração:"}),e.jsx("input",{type:"number",...o.register("duration"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"}),e.jsx("label",{children:"Tipo de Duração:"}),e.jsx("select",{...o.register("durationType"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",children:i==null?void 0:i.map(d=>e.jsx("option",{value:d.id,children:d.name},d.id))}),e.jsx("button",{disabled:t,type:"submit",className:"flex justify-center my-6 w-full rounded-md bg-secondary py-3 text-sm font-medium leading-5 text-white",children:s?"Atualizar":"Cadastrar"})]})})},Ae=()=>{const{data:n,isLoading:t}=v("employees-list",()=>E.findAll(),{refetchOnWindowFocus:!1,initialData:[],onSuccess:a=>{console.log(a)},onError:a=>{N.error(a.message)}}),s=p.useCallback(async a=>{const{description:r,duration:i,durationType:o,occurrenceDate:d,idEmployee:m,fileId:c,isResolved:j}=a;await F.create({occurrenceDate:d,duration:i,durationType:o,description:r,isResolved:j,fileId:c,user:{id:Number(m)}})},[]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Cadastrar Nova Exceção"}),e.jsx("div",{children:n&&e.jsx(q,{handleAction:s,isLoading:t,employees:n,durationTypes:[]})})]})},Fe=()=>{const{id:n}=_(),{data:t,isLoading:s}=v("employees-list",()=>E.findAll(),{refetchOnWindowFocus:!1,initialData:[],onSuccess:o=>{console.log(o)},onError:o=>{N.error(o.message)}}),{data:a}=v(`exception-${n}`,()=>F.find(Number(n)),{refetchOnWindowFocus:!1,onSuccess:o=>{console.log(o)},onError:o=>{N.error(o.message)}}),r=p.useCallback(async o=>{const{description:d,duration:m,durationType:c,occurrenceDate:j,idEmployee:b}=o;await F.update({description:d,duration:m,durationType:c,occurrenceDate:j,user:{id:Number(b)}})},[]),i=p.useMemo(()=>a&&t?e.jsx(q,{handleAction:r,isLoading:s,initialData:{...a,idEmployee:a.user.id},employees:t,durationTypes:[]}):null,[t,a,r,s]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Editar Exceção"}),e.jsx("div",{children:i})]})},Le=()=>{const n=O(),{data:t,refetch:s}=v("employee-list",()=>E.findAll(),{refetchOnWindowFocus:!1,initialData:[]}),a=async r=>{r&&(await E.delete(r),await s())};return e.jsx("div",{className:"flex flex-col gap-2",children:e.jsxs("div",{className:"flex flex-col my-6",children:[e.jsx("h1",{children:"Controle"}),t==null?void 0:t.filter(r=>r.isEmployee===!0).map(r=>{var i;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx("p",{children:r.name}),"|",e.jsx("p",{children:r.document}),"|",e.jsx("p",{children:r.email}),"|",e.jsx("p",{children:(i=r.hireDate)==null?void 0:i.toString()}),"|",e.jsx("p",{children:r.monthlyWorkload}),e.jsx("button",{title:"Editar",className:"bg-secondary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>n(`/employee/${r.id}`),children:e.jsx(S,{size:20})}),r.id!==2&&e.jsx("button",{title:"Excluir",onClick:()=>a(r.id),children:e.jsx(C,{size:20})})]},r.id)})]})})},Oe=({idEmployee:n})=>{const t=O(),{data:s,refetch:a}=v(`vacation-${n}`,()=>L.findByUser(Number(n)),{refetchOnWindowFocus:!1,onSuccess:o=>{console.log(o)},onError:o=>{N.error(o.message)}}),r=p.useCallback(async o=>{o&&(await L.delete(o),await a())},[a]),i=p.useMemo(()=>s?e.jsx("div",{children:s==null?void 0:s.map(o=>{var d,m;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx("p",{children:(d=o.startDate)==null?void 0:d.toString()}),"|",e.jsx("p",{children:(m=o.endDate)==null?void 0:m.toString()}),"|",e.jsx("button",{title:"Editar",className:"bg-secondary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>t(`vacation/edit/${o.id}`),children:e.jsx(S,{size:20})}),e.jsx("button",{title:"Excluir",onClick:()=>r(o.id),children:e.jsx(C,{size:20})})]},o.id)})}):null,[r,t,s]);return e.jsxs("div",{children:[e.jsx("button",{title:"Adicionar",className:"bg-primary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>t("vacation/create"),children:"Adicionar"}),i]})},$e=({idEmployee:n})=>{const t=O(),{data:s,refetch:a}=v(`vacation-${n}`,()=>F.findByUser(Number(n)),{refetchOnWindowFocus:!1,onSuccess:o=>{console.log(o)},onError:o=>{N.error(o.message)}}),r=p.useCallback(async o=>{o&&(await F.delete(o),await a())},[a]),i=p.useMemo(()=>s?e.jsx("div",{children:s==null?void 0:s.map(o=>{var d;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx("p",{children:(d=o.occurrenceDate)==null?void 0:d.toString()}),"|",e.jsx("p",{children:o.duration}),"|",e.jsx("p",{children:o.durationType}),"|",e.jsx("p",{children:o.description}),"|",e.jsx("p",{children:o.isResolved}),"|",e.jsx("button",{title:"Editar",className:"bg-secondary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>t(`exception/edit/${o.id}`),children:e.jsx(S,{size:20})}),e.jsx("button",{title:"Excluir",onClick:()=>r(o.id),children:e.jsx(C,{size:20})})]},o.id)})}):null,[r,t,s]);return e.jsxs("div",{children:[e.jsx("button",{title:"Adicionar",className:"bg-primary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>t("exception/create"),children:"Adicionar"}),i]})},Re=()=>{const n=O(),t=p.useMemo(()=>[{dia:"23/05/2023",entrada1:"00:00:00",saida1:"00:00:00",entrada2:null,saida2:null,horas_trabalhadas:"00:00:00",horas_extras:"00:00:00",horas_falta:"00:00:00",is_consistente:!1}],[]),s=p.useMemo(()=>t?e.jsxs("div",{children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("p",{children:"Data"}),"|",e.jsx("p",{children:"Entrada"}),"|",e.jsx("p",{children:"Saída"}),"|",e.jsx("p",{children:"Entrada"}),"|",e.jsx("p",{children:"Saída"}),"|",e.jsx("p",{children:"Horas Trabalhadas"}),"|",e.jsx("p",{children:"Horas Extras"}),"|",e.jsx("p",{children:"Horas Falta"}),"|",e.jsx("p",{children:"Ações"})]}),t==null?void 0:t.map(a=>{var r,i,o,d,m,c,j,b;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx("p",{children:(r=a.dia)==null?void 0:r.toString()}),"|",e.jsx("p",{children:(i=a.entrada1)==null?void 0:i.toString()}),"|",e.jsx("p",{children:(o=a.saida1)==null?void 0:o.toString()}),"|",e.jsx("p",{children:(d=a.entrada2)==null?void 0:d.toString()}),"|",e.jsx("p",{children:(m=a.saida2)==null?void 0:m.toString()}),"|",e.jsx("p",{children:(c=a.horas_trabalhadas)==null?void 0:c.toString()}),"|",e.jsx("p",{children:(j=a.horas_extras)==null?void 0:j.toString()}),"|",e.jsx("p",{children:(b=a.horas_falta)==null?void 0:b.toString()}),"|",e.jsx("button",{title:"Editar",className:"bg-secondary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>n(`event/edit/${a.id}`),children:e.jsx(S,{size:20})})]},a.id)})]}):null,[n,t]);return e.jsx("div",{children:s})},_e=()=>{const{id:n}=_(),[t,s]=p.useState("journey"),{data:a,isLoading:r}=v(`user-${n}`,()=>E.find(Number(n)),{refetchOnWindowFocus:!1,onSuccess:m=>{console.log(m)},onError:m=>{N.error(m.message)}}),i=p.useCallback(async m=>{const{name:c,document:j,birthdate:b,email:l,phone:g,password:y,hireDate:h,monthlyWorkload:u}=m;await E.update({id:Number(n),name:c,document:j,birthdate:b,email:l,phone:g,hireDate:h,monthlyWorkload:u,password:y})},[n]),o=p.useMemo(()=>a?e.jsx(P,{initialData:a,handleAction:i,isLoading:r,isEditing:!0}):null,[a,i,r]),d=p.useMemo(()=>{if(t==="journey")return e.jsx(Re,{});if(t==="vacation")return e.jsx(Oe,{idEmployee:Number(n)});if(t==="exception")return e.jsx($e,{idEmployee:Number(n)})},[n,t]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Controle de Funcionário"}),e.jsx("div",{children:o}),e.jsxs("div",{children:[e.jsx("button",{title:"Jornada",className:"bg-primary text-gray-300 px-4 py-2 font-bold",onClick:()=>s("journey"),children:"Jornada"}),e.jsx("button",{title:"Férias",className:"bg-primary text-gray-300 px-4 py-2 font-bold",onClick:()=>s("vacation"),children:"Férias"}),e.jsx("button",{title:"Exceções",className:"bg-primary text-gray-300 px-4 py-2 font-bold",onClick:()=>s("exception"),children:"Exceções"})]}),e.jsx("div",{children:d})]})},Ie=({methods:n})=>{const[t,s]=p.useState(2);return e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("button",{title:"Adicionar Turno",className:"bg-primary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>s(t+1),children:e.jsx(oe,{size:20})})}),Array.from(Array(t)).map((a,r)=>e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsxs("label",{children:["Entrada ",r+1,":"]}),e.jsx("input",{type:"time",...n.register("endDate"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"})]}),e.jsxs("div",{children:[e.jsxs("label",{children:["Saída ",r+1,":"]}),e.jsx("input",{type:"time",...n.register("endDate"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"})]})]},r))]})},Te=["Segunda","Terça","Quarta","Quinta","Sexta","Sábado","Domingo"],K=({handleAction:n,isEditing:t=!1,methods:s})=>e.jsx($,{...s,children:e.jsxs("form",{className:"flex w-80 flex-col items-center justify-center",onSubmit:s.handleSubmit(n),children:[e.jsx("label",{children:"Nome:"}),e.jsx("input",{...s.register("name"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"}),e.jsx("label",{children:"Tolerância:"}),e.jsx("input",{type:"number",...s.register("tolerance"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"}),e.jsx("div",{className:"flex",style:{width:"100%"},children:Te.map(a=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{children:a}),e.jsx(Ie,{methods:s})]}))}),e.jsx("button",{type:"submit",className:"flex justify-center my-6 w-full rounded-md bg-secondary py-3 text-sm font-medium leading-5 text-white",children:t?"Atualizar":"Cadastrar"})]})}),ze=()=>{const n=A({defaultValues:{}}),t=p.useCallback(()=>{console.log("bla")},[]),s=p.useMemo(()=>e.jsx(K,{handleAction:t,isEditing:!0,methods:n}),[t,n]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Editar Jornada"}),e.jsx("div",{children:s})]})},We=()=>{const n=A({defaultValues:{startDate:void 0,endDate:void 0,idEmployee:0}}),t=p.useCallback(async()=>{console.log("bla")},[]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Cadastrar Nova Jornada"}),e.jsx("div",{children:e.jsx(K,{handleAction:t,methods:n})})]})},I=new te;function He(){const{isAuthenticated:n,logout:t}=z();return f.addResponseTransform(s=>{if(!s.ok)throw s.status===401&&(N.error(s.data.message),t()),s}),e.jsxs(ae,{client:I,children:[e.jsx(ne,{position:"top-right",autoClose:2500,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,transition:ie,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),e.jsx(G,{children:e.jsx(Z,{children:n?e.jsxs(w,{path:"/",element:e.jsx(ve,{}),children:[e.jsx(w,{path:"",element:e.jsx(ke,{})},"home"),e.jsx(w,{path:"employee/create",element:e.jsx(we,{})},"employee-create"),e.jsx(w,{path:"employee/edit/:id",element:e.jsx(Ne,{})},"employee-edit"),e.jsx(w,{path:"event/create",element:e.jsx(Ee,{})},"event-create"),e.jsx(w,{path:"event/edit/:id",element:e.jsx(De,{})},"event-edit"),e.jsx(w,{path:"exception/create",element:e.jsx(Ae,{})},"exception-create"),e.jsx(w,{path:"exception/edit/:id",element:e.jsx(Fe,{})},"exception-edit"),e.jsx(w,{path:"vacation/create",element:e.jsx(Ce,{})},"vacation-create"),e.jsx(w,{path:"vacation/edit/:id",element:e.jsx(Se,{})},"vacation-edit"),e.jsx(w,{path:"journey/create",element:e.jsx(We,{})},"journey-create"),e.jsx(w,{path:"journey/edit/:id",element:e.jsx(ze,{})},"journey-edit"),e.jsx(w,{path:"control-screen",element:e.jsx(Le,{})},"control-screen"),e.jsx(w,{path:"employee/:id",element:e.jsx(_e,{})},"employee"),e.jsx(w,{path:"*",element:e.jsx("span",{children:"wildcard"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(w,{path:"/",element:e.jsx(M,{})}),e.jsx(w,{path:"*",element:e.jsx(M,{})})]})})})]})}W.createRoot(document.getElementById("root")).render(e.jsx(ee.StrictMode,{children:e.jsx(He,{})}));
