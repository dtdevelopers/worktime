import{r as D,b as X,u as P,O as Y,c as _,H as G,d as Z,e as v,R as ee}from"./vendor-b5695ea8.js";import{u as b,Q as te,a as ae}from"./react-query-a30a62e9.js";import{r as se}from"./zustand-8c59c348.js";import{c as re}from"./apisauce-c378e72f.js";import{Q as w,k as ne,x as ie}from"./react-toastify-f2771e43.js";import{u as S,F as O}from"./react-hook-form-373e8fbb.js";import{H as I,E as C,i as oe,d as le,a as de,g as ce}from"./@phosphor-icons/react-54c1b12d.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();var e={},me={get exports(){return e},set exports(i){e=i}},$={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ue=D,xe=Symbol.for("react.element"),pe=Symbol.for("react.fragment"),he=Object.prototype.hasOwnProperty,fe=ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ge={key:!0,ref:!0,__self:!0,__source:!0};function B(i,t,s){var a,r={},n=null,o=null;s!==void 0&&(n=""+s),t.key!==void 0&&(n=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)he.call(t,a)&&!ge.hasOwnProperty(a)&&(r[a]=t[a]);if(i&&i.defaultProps)for(a in t=i.defaultProps,t)r[a]===void 0&&(r[a]=t[a]);return{$$typeof:xe,type:i,key:n,ref:o,props:r,_owner:fe.current}}$.Fragment=pe;$.jsx=B;$.jsxs=B;(function(i){i.exports=$})(me);var W={},T=X;W.createRoot=T.createRoot,W.hydrateRoot=T.hydrateRoot;const h=re({baseURL:"https://worktime.dtdevs.com/api",timeout:3e4});h.addRequestTransform(i=>{const t=z.getState().token;t&&i&&i.headers&&(i.headers.Authorization=`Bearer ${t}`)});class ye{static async authenticate(t){const{data:s,ok:a}=await h.post("authenticate",t);if(!a)throw new Error(s.message);return s}}function J(i){let t;try{t=i()}catch{return}return{getItem:a=>{var r;const n=d=>d===null?null:JSON.parse(d),o=(r=t.getItem(a))!=null?r:null;return o instanceof Promise?o.then(n):n(o)},setItem:(a,r)=>t.setItem(a,JSON.stringify(r)),removeItem:a=>t.removeItem(a)}}const L=i=>t=>{try{const s=i(t);return s instanceof Promise?s:{then(a){return L(a)(s)},catch(a){return this}}}catch(s){return{then(a){return this},catch(a){return L(a)(s)}}}},je=(i,t)=>(s,a,r)=>{let n={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:m=>m,version:0,merge:(m,y)=>({...y,...m}),...t},o=!1;const d=new Set,x=new Set;let u;try{u=n.getStorage()}catch{}if(!u)return i((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),s(...m)},a,r);const j=L(n.serialize),l=()=>{const m=n.partialize({...a()});let y;const c=j({state:m,version:n.version}).then(E=>u.setItem(n.name,E)).catch(E=>{y=E});if(y)throw y;return c},f=r.setState;r.setState=(m,y)=>{f(m,y),l()};const g=i((...m)=>{s(...m),l()},a,r);let N;const p=()=>{var m;if(!u)return;o=!1,d.forEach(c=>c(a()));const y=((m=n.onRehydrateStorage)==null?void 0:m.call(n,a()))||void 0;return L(u.getItem.bind(u))(n.name).then(c=>{if(c)return n.deserialize(c)}).then(c=>{if(c)if(typeof c.version=="number"&&c.version!==n.version){if(n.migrate)return n.migrate(c.state,c.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return c.state}).then(c=>{var E;return N=n.merge(c,(E=a())!=null?E:g),s(N,!0),l()}).then(()=>{y==null||y(N,void 0),o=!0,x.forEach(c=>c(N))}).catch(c=>{y==null||y(void 0,c)})};return r.persist={setOptions:m=>{n={...n,...m},m.getStorage&&(u=m.getStorage())},clearStorage:()=>{u==null||u.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:m=>(d.add(m),()=>{d.delete(m)}),onFinishHydration:m=>(x.add(m),()=>{x.delete(m)})},p(),N||g},ve=(i,t)=>(s,a,r)=>{let n={storage:J(()=>localStorage),partialize:p=>p,version:0,merge:(p,m)=>({...m,...p}),...t},o=!1;const d=new Set,x=new Set;let u=n.storage;if(!u)return i((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),s(...p)},a,r);const j=()=>{const p=n.partialize({...a()});return u.setItem(n.name,{state:p,version:n.version})},l=r.setState;r.setState=(p,m)=>{l(p,m),j()};const f=i((...p)=>{s(...p),j()},a,r);let g;const N=()=>{var p,m;if(!u)return;o=!1,d.forEach(c=>{var E;return c((E=a())!=null?E:f)});const y=((m=n.onRehydrateStorage)==null?void 0:m.call(n,(p=a())!=null?p:f))||void 0;return L(u.getItem.bind(u))(n.name).then(c=>{if(c)if(typeof c.version=="number"&&c.version!==n.version){if(n.migrate)return n.migrate(c.state,c.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return c.state}).then(c=>{var E;return g=n.merge(c,(E=a())!=null?E:f),s(g,!0),j()}).then(()=>{y==null||y(g,void 0),g=a(),o=!0,x.forEach(c=>c(g))}).catch(c=>{y==null||y(void 0,c)})};return r.persist={setOptions:p=>{n={...n,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u==null||u.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>N(),hasHydrated:()=>o,onHydrate:p=>(d.add(p),()=>{d.delete(p)}),onFinishHydration:p=>(x.add(p),()=>{x.delete(p)})},n.skipHydration||N(),g||f},be=(i,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?(({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),je(i,t)):ve(i,t),we=be,ke=se()(we(i=>({isLoading:!1,isAuthenticated:!1,user:null,token:null,authenticate:async t=>{i({isLoading:!0});const s=await ye.authenticate(t).catch(()=>i({isLoading:!1}));s&&s.token&&i(()=>({isAuthenticated:!0,user:s.user,token:s.token})),i({isLoading:!1})},logout:()=>i(()=>({isAuthenticated:!1,user:null,token:null}))}),{name:"worktime-storage",storage:J(()=>localStorage)})),z=ke,Ee=()=>{const{logout:i}=z(),t=P();return e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex flex-row",style:{justifyContent:"space-between"},children:[e.jsx("button",{className:"bg-primary text-gray-300 px-4 py-2 font-bold",onClick:()=>t("/"),children:"Home"}),e.jsxs("div",{children:[e.jsx("button",{className:"bg-primary text-gray-300 px-4 py-2 font-bold",onClick:()=>t("/control-screen"),children:"Controle"}),e.jsx("button",{className:"bg-primary text-gray-300 px-4 py-2 font-bold",onClick:i,children:"Sair"})]})]}),e.jsx(Y,{})]})},U=()=>{const{authenticate:i,isLoading:t}=z(),s=S({defaultValues:{username:"admin@admin.com",password:"1234"}});return e.jsx("div",{className:"flex flex-col w-full h-full flex-1 justify-center items-center",children:e.jsx(O,{...s,children:e.jsxs("form",{className:"flex w-80 flex-col items-center justify-center",onSubmit:s.handleSubmit(i),children:[e.jsx("h1",{className:"mt-8 text-3xl font-bold text-emphasis-high dark:text-emphasisDark-high",children:"worktime"}),e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Access your account"}),e.jsx("input",{...s.register("username"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",placeholder:"Inform your e-mail or username"}),e.jsx("input",{...s.register("password"),type:"password",className:"mt-6 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",placeholder:"Inform your password"}),e.jsx("button",{disabled:t,type:"submit",className:"flex justify-center my-6 w-full rounded-md bg-secondary py-3 text-sm font-medium leading-5 text-white",children:"Sign up"})]})})})};class k{static async find(t){const{data:s,ok:a}=await h.get(`user/${t}`);if(!a)throw new Error(s.message);return s}static async findAll(){const{data:t}=await h.get("user");return t}static async create(t){const{data:s,ok:a}=await h.post("user",{...t});if(!a)throw new Error(s.message);return s}static async register(t){const{data:s,ok:a}=await h.post("register",{...t});return s}static async update(t){const{data:s,ok:a}=await h.put(`user/${t.id}`,t);if(!a)throw new Error(s.message);return await R.invalidateQueries(`user-${t.id}`),s}static async delete(t){const{data:s,ok:a}=await h.delete(`user/${t}`);if(!a)throw new Error(s.message)}}class F{static async find(t){const{data:s,ok:a}=await h.get(`exception/${t}`);if(!a)throw new Error(s.message);return s}static async findAll(){const{data:t}=await h.get("exception");return t}static async create(t){const{data:s,ok:a}=await h.post("exception",{...t});if(!a)throw new Error(s.message);return s}static async update(t){const{data:s,ok:a}=await h.put(`exception/${t.id}`,t);if(!a)throw new Error(s.message);return await R.invalidateQueries(`exception-${t.id}`),s}static async delete(t){const{data:s,ok:a}=await h.delete(`exception/${t}`);if(!a)throw new Error(s.message)}}class A{static async find(t){const{data:s,ok:a}=await h.get(`vacation/${t}`);if(!a)throw new Error(s.message);return s}static async findAll(){const{data:t}=await h.get("vacation");return t}static async create(t){const{data:s,ok:a}=await h.post("vacation",{...t});if(!a)throw new Error(s.message);return s}static async update(t){const{data:s,ok:a}=await h.put(`vacation/${t.id}`,t);if(!a)throw new Error(s.message);return await R.invalidateQueries(`vacation-${t.id}`),s}static async delete(t){const{data:s,ok:a}=await h.delete(`vacation/${t}`);if(!a)throw new Error(s.message)}}class H{static async find(t){const{data:s,ok:a}=await h.get(`event/${t}`);if(!a)throw new Error(s.message);return s}static async findAll(){const{data:t}=await h.get("event");return t}static async create(t){const{data:s,ok:a}=await h.post("event",{...t});if(!a)throw new Error(s.message);return s}static async update(t){const{data:s,ok:a}=await h.put(`event/${t.id}`,t);if(!a)throw new Error(s.message);return await R.invalidateQueries(`event-${t.id}`),s}static async delete(t){const{data:s,ok:a}=await h.delete(`event/${t}`);if(!a)throw new Error(s.message)}}const Ne=()=>{const i=P(),{data:t,refetch:s}=b("employee-list",()=>k.findAll(),{refetchOnWindowFocus:!1,initialData:[]}),{data:a,refetch:r}=b("excep-list",()=>F.findAll(),{refetchOnWindowFocus:!1,initialData:[]}),{data:n,refetch:o}=b("vacat-list",()=>A.findAll(),{refetchOnWindowFocus:!1,initialData:[]}),{data:d}=b("event-list",()=>H.findAll(),{refetchOnWindowFocus:!1,initialData:[]}),x=async l=>{l&&(await k.delete(l),await s())},u=async l=>{l&&(await F.delete(l),await r())},j=async l=>{l&&(await A.delete(l),await o())};return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col my-6",children:[e.jsx("h1",{children:"FUNCIONÁRIOS"}),e.jsx("button",{title:"Cadastrar",className:"bg-primary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>i("employee/create"),children:"Cadastrar funcionário"}),t==null?void 0:t.map(l=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("p",{children:l.name}),"|",e.jsx("p",{children:l.email}),"|",e.jsx("p",{children:l.phone}),e.jsx("p",{children:l.isEmployee?"Sim":"Não"}),e.jsx("button",{title:"Editar",className:"bg-secondary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>i(`employee/edit/${l.id}`),children:e.jsx(I,{size:20})}),l.id!==2&&e.jsx("button",{title:"Excluir",onClick:()=>x(l.id),children:e.jsx(C,{size:20})})]},l.id))]}),e.jsxs("div",{className:"flex flex-col my-6",children:[e.jsx("h1",{children:"EXCEÇÃO"}),e.jsx("button",{title:"Cadastrar",className:"bg-primary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>i("exception/create"),children:"Cadastrar exceção"}),a==null?void 0:a.map(l=>{var f,g;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx("p",{children:(f=l.occurrenceDate)==null?void 0:f.toString()}),"|",e.jsx("p",{children:l.duration}),"|",e.jsx("p",{children:l.durationType}),"|",e.jsx("p",{children:l.description}),"|",e.jsx("p",{children:l.isResolved}),"|",e.jsx("p",{children:(g=l.user)==null?void 0:g.name}),"|",e.jsx("button",{title:"Editar",className:"bg-secondary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>i(`exception/edit/${l.id}`),children:e.jsx(I,{size:20})}),e.jsx("button",{title:"Excluir",onClick:()=>u(l.id),children:e.jsx(C,{size:20})})]},l.id)})]}),e.jsxs("div",{className:"flex flex-col my-6",children:[e.jsx("h1",{children:"FÉRIAS"}),e.jsx("button",{title:"Cadastrar",className:"bg-primary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>i("vacation/create"),children:"Cadastrar férias"}),n==null?void 0:n.map(l=>{var f,g,N;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx("p",{children:(f=l.startDate)==null?void 0:f.toString()}),"|",e.jsx("p",{children:(g=l.endDate)==null?void 0:g.toString()}),"|",e.jsx("p",{children:(N=l.user)==null?void 0:N.name}),"|",e.jsx("button",{title:"Editar",className:"bg-secondary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>i(`vacation/edit/${l.id}`),children:e.jsx(I,{size:20})}),e.jsx("button",{title:"Excluir",onClick:()=>j(l.id),children:e.jsx(C,{size:20})})]},l.id)})]}),e.jsxs("div",{className:"flex flex-col my-6",children:[e.jsx("h1",{children:"EVENTOS"}),e.jsx("button",{title:"Cadastrar",className:"bg-primary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>i("event/create"),children:"Cadastrar evento"}),d==null?void 0:d.map(l=>{var f,g;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx("p",{children:(f=l.createdDate)==null?void 0:f.toString()}),"|",e.jsx("p",{children:l.type}),"|",e.jsx("p",{children:(g=l.user)==null?void 0:g.name}),e.jsx("button",{title:"Editar",className:"bg-secondary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>i(`event/edit/${l.id}`),children:e.jsx(I,{size:20})}),e.jsx("button",{title:"Excluir",onClick:()=>{console.log(l.id)},children:e.jsx(C,{size:20})})]},l.id)})]})]})},V=({handleAction:i,isLoading:t,initialData:s,isEditing:a=!1})=>{const r=S({defaultValues:s||{name:"",document:"",birthdate:"",email:"",phone:"",password:""}});return e.jsx(O,{...r,children:e.jsxs("form",{className:"flex w-80 flex-col items-center justify-center",onSubmit:r.handleSubmit(i),children:[e.jsx("input",{...r.register("name"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",placeholder:"Inform your name"}),e.jsx("input",{...r.register("document"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",placeholder:"Inform your document"}),e.jsx("input",{type:"date",...r.register("birthdate"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"}),e.jsx("input",{type:"email",...r.register("email"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",placeholder:"Inform your e-mail"}),e.jsx("input",{...r.register("phone"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",placeholder:"Inform your phone"}),e.jsx("input",{type:"password",className:"mt-6 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",placeholder:"Inform your password"}),e.jsx("button",{disabled:t,type:"submit",className:"flex justify-center my-6 w-full rounded-md bg-secondary py-3 text-sm font-medium leading-5 text-white",children:a?"Atualizar":"Cadastrar"})]})})},De=()=>{const[i,t]=D.useState(!1),s=D.useCallback(async a=>{const{name:r,document:n,birthdate:o,email:d,phone:x,hireDate:u,monthlyWorkload:j,password:l}=a;try{t(!0),await k.create({name:r,document:n,birthdate:o,email:d,phone:x,password:l,isEmployee:!0,hireDate:u,monthlyWorkload:j})}catch{w.error("Erro ao Cadastrar Novo Funcionário!")}finally{t(!1)}},[]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Cadastrar Novo Funcionário"}),e.jsx("div",{children:e.jsx(V,{handleAction:s,isLoading:i})})]})},Q=()=>{const{id:i}=_(),{data:t,isLoading:s}=b(`user-${i}`,()=>k.find(Number(i)),{refetchOnWindowFocus:!1,onSuccess:r=>{console.log(r)},onError:r=>{w.error(r.message)}}),a=D.useCallback(async r=>{const{name:n,document:o,birthdate:d,email:x,phone:u,password:j,hireDate:l,monthlyWorkload:f}=r;await k.update({id:Number(i),name:n,document:o,birthdate:d,email:x,phone:u,hireDate:l,monthlyWorkload:f,password:j})},[i]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Editar Funcionário"}),e.jsx("div",{children:t&&e.jsx(V,{initialData:t,handleAction:a,isLoading:s,isEditing:!0})})]})},M=({handleAction:i,isLoading:t,isEditing:s=!1,initialData:a,employees:r})=>{const[n,o]=D.useState(0),d=S({defaultValues:a||{createdDate:void 0,type:"",idEmployee:0}});return e.jsx(O,{...d,children:e.jsxs("form",{className:"flex w-80 flex-col items-center justify-center",onSubmit:d.handleSubmit(i),children:[e.jsx("label",{children:"Funcionário:"}),e.jsx("select",{...d.register("idEmployee"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",value:a==null?void 0:a.idEmployee,onChange:x=>{console.log(x),o(0)},children:r==null?void 0:r.map(x=>e.jsx("option",{value:x.id,children:x.name},x.id))}),e.jsx("label",{children:"Data:"}),e.jsx("input",{type:"date",...d.register("createdDate"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"}),e.jsx("label",{children:"Tipo:"}),e.jsx("input",{...d.register("type"),placeholder:"Digite um tipo",className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"}),e.jsx("button",{disabled:t,type:"submit",className:"flex justify-center my-6 w-full rounded-md bg-secondary py-3 text-sm font-medium leading-5 text-white",children:s?"Atualizar":"Cadastrar"})]})})},Se=()=>{const{data:i,isLoading:t}=b("employees-list",()=>k.findAll(),{refetchOnWindowFocus:!1,initialData:[],onSuccess:a=>{console.log(a)},onError:a=>{w.error(a.message)}}),s=D.useCallback(a=>{console.log(a)},[]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Cadastrar Novo Evento"}),e.jsx("div",{children:e.jsx(M,{handleAction:s,isLoading:t,employees:i??[]})})]})},Ce=()=>{const{id:i}=_(),{data:t,isLoading:s}=b("employees-list",()=>k.findAll(),{refetchOnWindowFocus:!1,initialData:[],onSuccess:n=>{console.log(n)},onError:n=>{w.error(n.message)}}),{data:a}=b(`event-${i}`,()=>H.find(Number(i)),{refetchOnWindowFocus:!1,onSuccess:n=>{console.log(n)},onError:n=>{w.error(n.message)}}),r=D.useCallback(async n=>{const{createdDate:o,type:d,idEmployee:x}=n;await H.update({createdDate:o,type:d,user:{id:Number(x)}})},[]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Editar Evento"}),e.jsx("div",{children:a&&e.jsx(M,{handleAction:r,isLoading:s,isEditing:!0,initialData:{...a,idEmployee:Number(i)},employees:t??[]})})]})},q=({handleAction:i,isLoading:t,isEditing:s=!1,methods:a,employees:r})=>e.jsx(O,{...a,children:e.jsxs("form",{className:"flex w-80 flex-col items-center justify-center",onSubmit:a.handleSubmit(i),children:[e.jsx("label",{children:"Funcionário:"}),e.jsx("select",{name:"idEmployee",...a.register("idEmployee"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",children:r==null?void 0:r.map(n=>e.jsx("option",{value:n.id,children:n.name},n.id))}),e.jsx("label",{children:"Data de Início:"}),e.jsx("input",{type:"date",...a.register("startDate"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"}),e.jsx("label",{children:"Data de Fim:"}),e.jsx("input",{type:"date",...a.register("endDate"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"}),e.jsx("button",{disabled:t,type:"submit",className:"flex justify-center my-6 w-full rounded-md bg-secondary py-3 text-sm font-medium leading-5 text-white",children:s?"Atualizar":"Cadastrar"})]})}),Le=()=>{const{id:i}=_(),{data:t,isLoading:s}=b("employees-list",()=>k.findAll(),{refetchOnWindowFocus:!1,initialData:[],onSuccess:o=>{console.log(o)},onError:o=>{w.error(o.message)}}),{data:a}=b(`event-${i}`,()=>A.find(Number(i)),{refetchOnWindowFocus:!1,onSuccess:o=>{console.log(o)},onError:o=>{w.error(o.message)}}),r=S({defaultValues:a}),n=D.useCallback(async o=>{const{startDate:d,endDate:x,idEmployee:u}=o;await A.update({startDate:d,endDate:x,user:{id:Number(u)}}),w.success("Férias atualizada com sucesso!")},[]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Editar Férias"}),e.jsx("div",{children:e.jsx(q,{handleAction:n,isLoading:s,isEditing:!0,methods:r,employees:t??[]})})]})},Fe=()=>{const{data:i,isLoading:t}=b("employees-list",()=>k.findAll(),{refetchOnWindowFocus:!1,initialData:[],onSuccess:r=>{console.log(r)},onError:r=>{w.error(r.message)}}),s=S({defaultValues:{startDate:void 0,endDate:void 0,idEmployee:0}}),a=D.useCallback(async r=>{const{startDate:n,endDate:o,idEmployee:d}=r;await A.create({startDate:n,endDate:o,user:{id:Number(d)}})},[]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Cadastrar Nova Férias"}),e.jsx("div",{children:e.jsx(q,{handleAction:a,isLoading:t,methods:s,employees:i??[]})})]})},K=({handleAction:i,isLoading:t,isEditing:s=!1,methods:a,employees:r,durationTypes:n})=>e.jsx(O,{...a,children:e.jsxs("form",{className:"flex w-80 flex-col items-center justify-center",onSubmit:a.handleSubmit(i),children:[e.jsx("label",{children:"Funcionário:"}),e.jsx("select",{name:"idEmployee",...a.register("idEmployee"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",children:r==null?void 0:r.map(o=>e.jsx("option",{value:o.id,children:o.name},o.id))}),e.jsx("label",{children:"Descrição:"}),e.jsx("input",{...a.register("description"),placeholder:"Digite uma descrição",className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"}),e.jsx("label",{children:"Data:"}),e.jsx("input",{type:"date",...a.register("occurrenceDate"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"}),e.jsx("label",{children:"Duração:"}),e.jsx("input",{type:"number",...a.register("duration"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5"}),e.jsx("label",{children:"Tipo de Duração:"}),e.jsx("select",{name:"durationType",...a.register("durationType"),className:"mt-12 w-full rounded-md text-emphasis-medium dark:text-emphasisDark-medium bg-inverseDark-90 dark:bg-inverseLight-50 py-3 px-4 text-sm font-normal leading-5",children:n==null?void 0:n.map(o=>e.jsx("option",{value:o.id,children:o.name},o.id))}),e.jsx("button",{disabled:t,type:"submit",className:"flex justify-center my-6 w-full rounded-md bg-secondary py-3 text-sm font-medium leading-5 text-white",children:s?"Atualizar":"Cadastrar"})]})}),Ae=()=>{const{data:i,isLoading:t}=b("employees-list",()=>k.findAll(),{refetchOnWindowFocus:!1,initialData:[],onSuccess:r=>{console.log(r)},onError:r=>{w.error(r.message)}}),s=S({defaultValues:{description:"",duration:0,durationType:"",occurrenceDate:void 0,idEmployee:0,fileId:""}}),a=D.useCallback(async r=>{const{description:n,duration:o,durationType:d,occurrenceDate:x,idEmployee:u,fileId:j,isResolved:l}=r;await F.create({occurrenceDate:x,duration:o,durationType:d,description:n,isResolved:l,fileId:j,user:{id:Number(u)}})},[]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Cadastrar Nova Exceção"}),e.jsx("div",{children:e.jsx(K,{handleAction:a,isLoading:t,methods:s,employees:i??[],durationTypes:[]})})]})},Oe=()=>{const{id:i}=_(),{data:t,isLoading:s}=b("employees-list",()=>k.findAll(),{refetchOnWindowFocus:!1,initialData:[],onSuccess:o=>{console.log(o)},onError:o=>{w.error(o.message)}}),{data:a}=b(`exception-${i}`,()=>F.find(Number(i)),{refetchOnWindowFocus:!1,onSuccess:o=>{console.log(o)},onError:o=>{w.error(o.message)}}),r=S({defaultValues:a}),n=D.useCallback(async o=>{const{description:d,duration:x,durationType:u,occurrenceDate:j,idEmployee:l}=o;await F.update({description:d,duration:x,durationType:u,occurrenceDate:j,user:{id:Number(l)}})},[]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-md font-semibold leading-8 text-emphasis-medium dark:text-emphasisDark-medium",children:"Editar Exceção"}),e.jsx("div",{children:e.jsx(K,{handleAction:n,isLoading:s,isEditing:!0,methods:r,employees:t??[],durationTypes:[]})})]})},Re=()=>{const i=P(),{data:t,refetch:s}=b("employee-list",()=>k.findAll(),{refetchOnWindowFocus:!1,initialData:[]}),a=async r=>{r&&(await k.delete(r),await s())};return e.jsx("div",{className:"flex flex-col gap-2",children:e.jsxs("div",{className:"flex flex-col my-6",children:[e.jsx("h1",{children:"BLA"}),t==null?void 0:t.filter(r=>r.isEmployee===!0).map(r=>{var n;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx("p",{children:r.name}),"|",e.jsx("p",{children:r.document}),"|",e.jsx("p",{children:r.email}),"|",e.jsx("p",{children:(n=r.hireDate)==null?void 0:n.toString()}),"|",e.jsx("p",{children:r.monthlyWorkload}),e.jsx("button",{title:"Controle de Horas",className:"bg-secondary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>i(`journey/${r.id}`),children:e.jsx(oe,{size:20})}),e.jsx("button",{title:"Férias",className:"bg-secondary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>i(`vacation/${r.id}`),children:e.jsx(le,{size:20})}),e.jsx("button",{title:"Exceções",className:"bg-secondary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>i(`exception/${r.id}`),children:e.jsx(de,{size:20})}),e.jsx("button",{title:"Editar Perfil",className:"bg-secondary my-2 self-center px-4 py-2 rounded-md text-white font-bold",onClick:()=>i(`/employee/edit/${r.id}`),children:e.jsx(ce,{size:20})}),r.id!==2&&e.jsx("button",{title:"Excluir",onClick:()=>a(r.id),children:e.jsx(C,{size:20})})]},r.id)})]})})},R=new te;function Ie(){const{isAuthenticated:i,logout:t}=z();return h.addResponseTransform(s=>{if(!s.ok)throw s.status===401&&(w.error(s.data.message),t()),s}),e.jsxs(ae,{client:R,children:[e.jsx(ne,{position:"top-right",autoClose:2500,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,transition:ie,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),e.jsx(G,{children:e.jsx(Z,{children:i?e.jsxs(v,{path:"/",element:e.jsx(Ee,{}),children:[e.jsx(v,{path:"",element:e.jsx(Ne,{})},"home"),e.jsx(v,{path:"employee/create",element:e.jsx(De,{})},"employee-create"),e.jsx(v,{path:"employee/edit/:id",element:e.jsx(Q,{})},"employee-edit"),e.jsx(v,{path:"event/create",element:e.jsx(Se,{})},"event-create"),e.jsx(v,{path:"event/edit/:id",element:e.jsx(Ce,{})},"event-edit"),e.jsx(v,{path:"exception/create",element:e.jsx(Ae,{})},"exception-create"),e.jsx(v,{path:"exception/edit/:id",element:e.jsx(Oe,{})},"exception-edit"),e.jsx(v,{path:"vacation/create",element:e.jsx(Fe,{})},"vacation-create"),e.jsx(v,{path:"vacation/edit/:id",element:e.jsx(Le,{})},"vacation-edit"),e.jsx(v,{path:"control-screen",element:e.jsx(Re,{}),children:e.jsx(v,{path:"perfil/edit/:id",element:e.jsx(Q,{})},"perfil-edit")},"vacation-edit"),e.jsx(v,{path:"*",element:e.jsx("span",{children:"wildcard"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{path:"/",element:e.jsx(U,{})}),e.jsx(v,{path:"*",element:e.jsx(U,{})})]})})})]})}W.createRoot(document.getElementById("root")).render(e.jsx(ee.StrictMode,{children:e.jsx(Ie,{})}));
